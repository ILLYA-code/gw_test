{# templates/_product_card.html #}
{% load static %}
<div class="cursor-pointer w-[230px] product-item">
    <div class="w-full h-[270px] bg-center bg-cover" 
         style="background-image: url('{{ product.image }}?={{ product.id }}')"></div>

    <div class="w-full flex justify-between items-start pt-2.5 gap-1">
        <div>
            <div class="text-[14px]">{{ product.name }}</div>
            <div class="text-[10px]">
                {% if product.available %}
                    В наявності
                {% else %}
                    Немає в наявності
                {% endif %}
            </div>
        </div>
        <button class="fav-btn w-[25px] h-[21px]" data-id="{{ product.id }}">
            <img src="{% static 'images/item-fav-heart.png' %}" alt="like" class="fav-icon">
        </button>
    </div>

    <div class="w-full flex justify-between items-center">
        <div class="text-[14px] mt-1 flex gap-1">
            <div class="text-[#545454]">{{ product.price }} UAH</div>
            {% if product.price_without_discount > product.price %}
                <div class="text-[#9a9a9a] line-through">
                    {{ product.price_without_discount }} UAH
                </div>
            {% endif %}
        </div>

        <div class="flex space-x-1">
            {% for i in "12345" %}
                {% if i|add:"0" <= product.rating %}
                    <img src="{% static 'images/filled-dark-star.png' %}" alt="★" class="w-3 h-3">
                {% elif i|add:"-1" < product.rating and product.rating < i|add:"1" %}
                    <img src="{% static 'images/star-half-empty.png' %}" alt="☆" class="w-3 h-3">
                {% else %}
                    <img src="{% static 'images/empty-star.png' %}" alt="✩" class="w-3 h-3">
                {% endif %}
            {% endfor %}
        </div>
    </div>
</div>
